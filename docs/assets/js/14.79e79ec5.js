(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{197:function(t,s,a){"use strict";a.r(s);var e=a(0),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"debug-your-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#debug-your-code","aria-hidden":"true"}},[t._v("#")]),t._v(" Debug your Code")]),t._v(" "),a("h2",{attrs:{id:"how-it-works"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-it-works","aria-hidden":"true"}},[t._v("#")]),t._v(" How It Works")]),t._v(" "),a("p",[t._v("You can use the "),a("code",[t._v("mug debug")]),t._v(" command to locally run the generated functions or whatever modifications you have made. The command will simply do the following:")]),t._v(" "),a("ol",[a("li",[t._v("Generate a Makefile for the resource or function group.")]),t._v(" "),a("li",[t._v("Build binaries in the "),a("code",[t._v("debug")]),t._v(" folder using "),a("code",[t._v("make debug")]),t._v(" defined in the "),a("code",[t._v("Makefile")]),t._v(".")]),t._v(" "),a("li",[t._v("Generate a "),a("code",[t._v("template.yml")]),t._v(" later required by "),a("strong",[t._v("aws-sam-cli")]),t._v(" to provide the API Gateway.")]),t._v(" "),a("li",[t._v("Create a local docker network for "),a("strong",[t._v("aws-sam")]),t._v(" and "),a("strong",[t._v("dynamodb")]),t._v(" to talk to each other.")]),t._v(" "),a("li",[t._v("Start/ Restart a daemon of "),a("code",[t._v("amazon/dynamodb-local")]),t._v(" container.")]),t._v(" "),a("li",[t._v("Create the tables in the database.")]),t._v(" "),a("li",[t._v("Start the API with "),a("code",[t._v("sam local start-api")]),t._v(".")])]),t._v(" "),a("h2",{attrs:{id:"step-through-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-through-code","aria-hidden":"true"}},[t._v("#")]),t._v(" Step through Code")]),t._v(" "),a("p",[t._v("To be able to debug your code step by step, you have to define the "),a("code",[t._v("-r")]),t._v(" "),a("strong",[t._v("remoteDebugger")]),t._v(" flag. This tells "),a("strong",[t._v("mug")]),t._v(" to initiate a "),a("strong",[t._v("delve")]),t._v(" debug process. This by default runs on port "),a("strong",[t._v("5986")]),t._v(", however you can overwrite this by defining the "),a("code",[t._v("-p")]),t._v(" "),a("strong",[t._v("debugPort")]),t._v(" flag.")]),t._v(" "),a("p",[t._v("When you start with the remote debugger enabled you can easily step through your functions using breakpoints etc. Make sure you have a propper launch configuration beforehand. For Visual Studio Code it may look like this:")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"configurations"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lambda debug"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"go"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"request"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"launch"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"remote"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"remotePath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"port"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5986")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"host"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"program"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${file}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"env"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"args"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("h3",{attrs:{id:"debugging-bigger-projects"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#debugging-bigger-projects","aria-hidden":"true"}},[t._v("#")]),t._v(" Debugging bigger projects")]),t._v(" "),a("p",[t._v("In case your projects get a little bigger, you may have no interest in generating, building and running a debug process for the entire project, but only for a couple of your resources or function groups.")]),t._v(" "),a("p",[t._v("You can do so by specifying a comma separated list of resources/ function groups with the "),a("code",[t._v("-l")]),t._v(" "),a("strong",[t._v("list")]),t._v(" flag. "),a("strong",[t._v("mug")]),t._v(" will then only run the generation and build process for those defined.")])])},[],!1,null,null,null);s.default=r.exports}}]);